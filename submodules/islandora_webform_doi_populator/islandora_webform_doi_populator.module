<?php
/**
 * Implements hook_components_types_alter().
 */
function islandora_webform_doi_populator_components_types_alter(&$eligible_component_types) {
  $eligible_component_types = array_merge(['doi' =>  array('text/plain')], $eligible_component_types);
}

/**
 * Implements hook_webform_component_info
 *
 * @return array
 */
function islandora_webform_doi_populator_webform_component_info() {
  $components = array();
  $components['doi'] = array(
    'label' => t('DOI'),
    'description' => t('Create a DOI field.'),
    'features' => array(
      'csv' => TRUE,
      'email' => TRUE,
      'email_address' => FALSE,
      'email_name' => FALSE,
      'required' => FALSE,
      'title_display' => FALSE,
      'title_inline' => FALSE,
      'conditional' => FALSE,
      'group' => FALSE,
      'spam_analysis' => FALSE,
      'attachment' => FALSE,
      'private' => FALSE
    ),
    'file' => 'components/doi.inc',
  );
  return $components;
}

